{"version":3,"file":"js/784.02f7c785.js","mappings":"+IAQA,MAAMA,EAAYC,GACPA,EAAIC,WAAW,OAAO,KAAKA,WAAW,OAAQ,KAAKA,WAAW,QAAS,KAAKA,WAAW,QAAS,I,yrBCGvG,MAAMC,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,OAEdC,EAAAA,EAAAA,KAAe,KACXJ,EAAOK,UACPC,IACAC,QAAQC,IAAIN,EAAMO,OAAOC,QAAQ,IAGrC,MAAMC,EAAWA,KACbX,EAAOY,QAAQ,cAAcV,EAAMO,OAAOC,QAAQ,EAGhDG,GAAiBC,EAAAA,EAAAA,IAAI,IACrBC,GAAiBD,EAAAA,EAAAA,IAAI,IACrBE,GAAcF,EAAAA,EAAAA,IAAI,IAClBG,GAAiBH,EAAAA,EAAAA,IAAI,IACrBI,GAAmBJ,EAAAA,EAAAA,IAAI,IACvBK,GAAoBL,EAAAA,EAAAA,IAAI,IACxBM,GAAYN,EAAAA,EAAAA,KAAI,GAEhBO,GAAeP,EAAAA,EAAAA,KAAI,GACnBQ,GAAWR,EAAAA,EAAAA,IAAI,IACfS,GAAcT,EAAAA,EAAAA,IAAI,IAGlBR,EAAckB,UAChB1B,EAAM2B,OAAO,uBAAuB,SAC9BC,EAAAA,EAAMC,KAAK,eAAe,CAACC,IAAI1B,EAAMO,OAAOC,UACjDmB,MAAMC,IACHvB,QAAQC,IAAI,OAAOsB,EAAIC,KAAKC,aAC5BjB,EAAekB,MAAQH,EAAIC,KAAKC,YAAYE,SAC5CrB,EAAeoB,MAAQH,EAAIC,KAAKC,YAAYG,UAC5CnB,EAAYiB,OAAQtC,EAAAA,EAAAA,GAAUmC,EAAIC,KAAKC,YAAYI,OACnDnB,EAAegB,OAAQtC,EAAAA,EAAAA,GAAUmC,EAAIC,KAAKC,YAAYK,WACtDnB,EAAiBe,MAAQH,EAAIC,KAAKC,YAAYM,UAC9CnB,EAAkBc,MAAQH,EAAIC,KAAKQ,YAChCT,EAAIC,KAAKQ,YAAYC,OAAS,IAC7BpB,EAAUa,OAAQ,EACtB,IAEHQ,OAAOX,IACJvB,QAAQmC,MAAM,KAAMZ,EAAI,IAE5BhC,EAAM2B,OAAO,uBAAuB,EAAM,EAIxCkB,EAAsBA,KACxBtB,EAAaY,OAAQ,CAAI,EAEvBW,EAAqBA,IAIC,IAArB5B,EAAYiB,OACXY,MAAM,UACNC,SAASC,eAAe,eAAeC,SAChC,GAGgB,IAAxB/B,EAAegB,OACdY,MAAM,UACNC,SAASC,eAAe,kBAAkBC,SACnC,IAGXlD,EAAM2B,OAAO,uBAAuB,GACpCC,EAAAA,EAAMC,KAAK,4BAA6B,CAACsB,eAAe/C,EAAMO,OAAOC,QAAQwC,SAASnC,EAAekB,MAAMkB,MAAM7B,EAASW,MAAMmB,SAAS7B,EAAYU,QACpJJ,MAAMC,IAEH,GADAvB,QAAQC,IAAI,OAAOsB,EAAIC,MACA,QAApBD,EAAIC,KAAKsB,QAIR,OADAR,MAAMf,EAAIC,KAAKuB,SACR,EAHPtD,EAAOuD,IAAI,EAIf,IAEHd,OAAOX,IACJe,MAAMf,GACNvB,QAAQmC,MAAM,KAAMZ,EAAI,IAE5BhC,EAAM2B,OAAO,uBAAuB,QACpClB,QAAQC,IAAIQ,EAAYiB,MAAMhB,EAAegB,QAG3CuB,EAAUA,KACZxD,EAAOuD,IAAI,EAAE,E,+4CCjGrB,MAAME,EAAc,EAEpB,O","sources":["webpack://vue_test/./src/utils/XSSutil.js","webpack://vue_test/./src/views/board/boardDetail.vue","webpack://vue_test/./src/views/board/boardDetail.vue?2fc3"],"sourcesContent":["\r\n/**\r\n * XSS 대비 서버에서 변환된 값이(ex:&lt;) 들어오면 클라이언트 화면에서 vue는 outerHTML방식으로 그대로보여줌\r\n * 그래서 다시 변환해서 보여주는 함수.\r\n * 그냥 공통 함수임\r\n * @param {*} str \r\n * @returns \r\n */\r\nconst changeXSS =(str) => {\r\n    return str.replaceAll('&lt;','<').replaceAll('&gt;', '>').replaceAll('&#40;', '(').replaceAll('&#41;', ')');\r\n}\r\nexport {changeXSS}\r\n","<script setup>\r\nimport BaseHeader from '@/components/common/header/baseHeader.vue'\r\nimport BaseFooter from '@/components/common/footer/baseFooter.vue'\r\n\r\nimport { ref, onBeforeMount} from 'vue';\r\nimport axios from \"axios\";\r\nimport { useStore } from \"vuex\";\r\n\r\nimport { useRouter,useRoute } from 'vue-router'\r\n\r\nimport { changeXSS } from '../../utils/XSSutil'\r\n\r\n    const store = useStore();\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n\r\n    onBeforeMount( () => {\r\n        router.isReady();\r\n        getBoardOne();\r\n        console.log(route.params.pageKey);\r\n    });\r\n\r\n    const moveEdit = () => {\r\n        router.replace('/boardEdit/'+route.params.pageKey);\r\n    }\r\n\r\n    const detailCodeName = ref('');\r\n    const detailCategory = ref('');\r\n    const detailTitle = ref('');\r\n    const detailContents = ref('');\r\n    const detailUploadFile = ref('');\r\n    const detailCommentList = ref([]);\r\n    const commentYn = ref(false);\r\n\r\n    const addCommentYn = ref(false);\r\n    const srcTitle = ref('');\r\n    const srcContents = ref('');\r\n\r\n\r\n    const getBoardOne = async () => {\r\n        store.commit(\"changeLoadingStatus\", true);\r\n        await axios.post(\"/boardOne.do\",{SEQ:route.params.pageKey})\r\n        .then((res) => {\r\n            console.log('조회결과',res.data.RESULT_DATA);\r\n            detailCategory.value = res.data.RESULT_DATA.CATEGORY;\r\n            detailCodeName.value = res.data.RESULT_DATA.CODE_NAME;\r\n            detailTitle.value = changeXSS(res.data.RESULT_DATA.TITLE);\r\n            detailContents.value = changeXSS(res.data.RESULT_DATA.BODY_TEXT);\r\n            detailUploadFile.value = res.data.RESULT_DATA.FILE_NAME;\r\n            detailCommentList.value = res.data.RESULT_LIST;\r\n            if(res.data.RESULT_LIST.length > 0) {\r\n                commentYn.value = true;\r\n            }\r\n        })\r\n        .catch((res) => {\r\n            console.error(\"에러\", res);\r\n        });\r\n        store.commit(\"changeLoadingStatus\", false);\r\n    }\r\n\r\n\r\n    const addBoardCommentLayer =() =>{\r\n        addCommentYn.value = true;\r\n    }\r\n    const addBoardCommentData =() =>{\r\n        // eslint-disable-next-line no-debugger\r\n        //위 주석을 써야 이 debugger가 먹힌다. 전체적으로 풀수도 있으나 나쁜 케이스가 발생 할 수 있다.    debugger;\r\n\r\n        if(detailTitle.value == '') {\r\n            alert('제목이 없어');\r\n            document.getElementById('detailTitle').focus();\r\n            return false;\r\n        }\r\n\r\n        if(detailContents.value == '') {\r\n            alert('내용이 없어');\r\n            document.getElementById('detailContents').focus();\r\n            return false;\r\n        }\r\n\r\n        store.commit(\"changeLoadingStatus\", true);\r\n        axios.post(\"/insertBoardCommentOne.do\", {originBoardSeq:route.params.pageKey,category:detailCategory.value,title:srcTitle.value,bodyText:srcContents.value} )\r\n        .then((res) => {\r\n            console.log('조회결과',res.data);\r\n            if(res.data.RESCODE == '0000') {\r\n                router.go(-1);\r\n            } else {\r\n                alert(res.data.RESMSG);\r\n                return false;    \r\n            }\r\n        })\r\n        .catch((res) => {\r\n            alert(res);\r\n            console.error(\"에러\", res);\r\n        });\r\n        store.commit(\"changeLoadingStatus\", false);\r\n        console.log(detailTitle.value,detailContents.value);\r\n    }\r\n\r\n    const moveList =() =>{\r\n        router.go(-1);\r\n    }\r\n\r\n</script>\r\n\r\n<template>\r\n  <BaseHeader title=\"게시판 상세\"></BaseHeader>\r\n  <div>\r\n    <main>\r\n        <div style=\"overflow: auto; width: 390px; height: 580px;\">\r\n            <div>\r\n                <h2>분류:{{ detailCodeName }}</h2>\r\n                <h3>제목:{{ detailTitle }}</h3>\r\n            </div>\r\n            <div>\r\n                <p>내용:{{ detailContents }}</p>\r\n                <h4>첨부파일:{{detailUploadFile}}</h4>\r\n            </div>\r\n\r\n            <div v-if=\"commentYn\">\r\n                <div>\r\n                    <div style=\"padding: 1px;\"></div>\r\n                    <h3>댓글목록</h3>\r\n                </div>\r\n                <div>\r\n                    <div v-for=\"(row,rowIndex) in detailCommentList\" :key=\"row\" style=\"text-indent: 1em;\">\r\n                        <h4>{{rowIndex+1}}댓글 {{row.TITLE}}</h4>\r\n                        <p>{{ row.BODY_TEXT }}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div v-if=\"addCommentYn\">\r\n                <div style=\"padding: 1px;\"></div>\r\n                <div>\r\n                    <h3>댓글추가</h3>\r\n                </div>\r\n                <div style=\"text-indent: 1em;\">\r\n                    <label for=\"srcTitle\">제목</label>\r\n                    <input v-model=\"srcTitle\" id=\"srcTitle\" placeholder=\"제목입력\" />\r\n                </div>\r\n                <div style=\"padding: 5px;\"></div>\r\n                <div style=\"text-indent: 1em;\">\r\n                    <label for=\"srcContents\">내용</label>\r\n                    <textarea v-model=\"srcContents\" id=\"srcContents\" cols=\"54\" rows=\"10\" placeholder=\"내용입력\" ></textarea>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    <div class=\"divRightAlign\">\r\n        <button type=\"button\" id=\"searchBtn\" @click=\"moveEdit\">수정</button>\r\n        <button type=\"button\" id=\"searchBtn\" @click=\"addBoardCommentLayer\">추가</button>\r\n        <button type=\"button\" id=\"searchBtn\" @click=\"addBoardCommentData\">저장</button>\r\n        <button type=\"button\" id=\"searchBtn\" @click=\"moveList\">목록</button>\r\n    </div>\r\n  </main>\r\n</div>\r\n<BaseFooter></BaseFooter>\r\n</template>\r\n\r\n","import script from \"./boardDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./boardDetail.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["changeXSS","str","replaceAll","store","useStore","router","useRouter","route","useRoute","onBeforeMount","isReady","getBoardOne","console","log","params","pageKey","moveEdit","replace","detailCodeName","ref","detailCategory","detailTitle","detailContents","detailUploadFile","detailCommentList","commentYn","addCommentYn","srcTitle","srcContents","async","commit","axios","post","SEQ","then","res","data","RESULT_DATA","value","CATEGORY","CODE_NAME","TITLE","BODY_TEXT","FILE_NAME","RESULT_LIST","length","catch","error","addBoardCommentLayer","addBoardCommentData","alert","document","getElementById","focus","originBoardSeq","category","title","bodyText","RESCODE","RESMSG","go","moveList","__exports__"],"sourceRoot":""}