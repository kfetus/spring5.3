"use strict";(self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[]).push([[662],{8662:function(e,t,l){l.r(t),l.d(t,{default:function(){return H}});l(4114);var n=l(6768),a=l(4232),u=l(5130),o=l(5603),s=l(3902),d=l(8355),y=l(144),i=l(1387),p=l(782);const r=(0,n.Lk)("span",null,"날짜",-1),m=(0,n.Lk)("span",null,"시간",-1),c=["onUpdate:modelValue","onChange"],k=["value"],L=["onUpdate:modelValue","onChange"],v=["value"],g=(0,n.Lk)("span",null,"내용",-1),h=["onInput","value"],C=["onClick"],E=(0,n.Lk)("div",{style:{padding:"10px"}},null,-1);var b={__name:"scheduleEdit",setup(e){(0,n.KC)((()=>{D()}));const t=(0,i.lq)(),l=(0,i.rd)(),b=(0,p.Pj)(),S=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],H=["00","10","20","30","40","50"],f=[],M=[],U=t.params.yyyymmdd.substring(0,4)+"-"+t.params.yyyymmdd.substring(4,6)+"-"+t.params.yyyymmdd.substring(6,8),_=(0,y.KR)([]),D=async()=>{await d.A.post("/scheduleOneDay.do",{yyyymmdd:t.params.yyyymmdd}).then((e=>{console.log("조회결과",e.data),_.value=e.data.RESULT_LIST,e.data.RESULT_LIST.map((function(e){f.push(e.HH),M.push(e.MM)})),console.log(_)})).catch((e=>{console.error("에러",e)}))},F=e=>{_.value.splice(e,1)},I=()=>{let e=_.value.length;_.value.push({HH:"",MM:"",SCHEDULE:"",YYYYMMDD:t.params.yyyymmdd}),console.log(e)},K=()=>{for(let e=0;e<_.value.length;e++){let t=_.value[e];if(""==t.HH)return alert("시간값이 비었어"),!1;if(""==t.MM)return alert("분값이 비었어"),!1;if(""==t.SCHEDULE)return alert("스케쥴이 비었어"),!1}b.commit("changeLoadingStatus",!0),d.A.post("/scheduleUpdate.do",{yyyymmdd:t.params.yyyymmdd,scheduleList:JSON.stringify(_.value)}).then((e=>{console.log("조회결과",e.data),"0000"===e.data.RESCODE?(alert("수정 성공"),l.go(-1)):alert(e.data.RESMSG)})).catch((e=>{console.error("에러",e)})),b.commit("changeLoadingStatus",!1)},R=()=>{l.go(-1)},X=(e,t)=>{_.value[t][e.target.name]=e.target.value};return(e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(o.A,{title:"스케쥴갱신"}),(0,n.Lk)("main",null,[(0,n.Lk)("div",null,[r,(0,n.Lk)("span",null,(0,a.v_)(U))]),(0,n.Lk)("div",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(_.value,((e,t)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:t},[(0,n.Lk)("div",null,[m,(0,n.Lk)("span",null,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e=>f[t]=e,name:"HH",onChange:e=>X(e,t)},[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(S,(e=>(0,n.Lk)("option",{value:e,key:e},(0,a.v_)(e)+"시 ",9,k))),64))],40,c),[[u.u1,f[t]]]),(0,n.eW)(" : "),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e=>M[t]=e,name:"MM",onChange:e=>X(e,t)},[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(H,(e=>(0,n.Lk)("option",{value:e,key:e},(0,a.v_)(e)+"분 ",9,v))),64))],40,L),[[u.u1,M[t]]])])]),(0,n.Lk)("div",null,[g,(0,n.Lk)("input",{onInput:e=>X(e,t),name:"SCHEDULE",value:e.SCHEDULE},null,40,h),(0,n.Lk)("button",{type:"button",title:"삭제",onClick:e=>F(t)},"삭제",8,C)]),E],64)))),128))]),(0,n.Lk)("div",{style:{"text-align":"right"}},[(0,n.Lk)("button",{type:"button",title:"수정",onClick:I},"추가"),(0,n.Lk)("button",{type:"button",title:"수정",onClick:K},"저장"),(0,n.Lk)("button",{type:"button",title:"목록",onClick:R},"목록")])]),(0,n.bF)(s.A)],64))}};const S=b;var H=S}}]);
//# sourceMappingURL=662.4c4cb70d.js.map