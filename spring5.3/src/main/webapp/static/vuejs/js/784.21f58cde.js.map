{"version":3,"file":"js/784.21f58cde.js","mappings":"+IAQA,MAAMA,EAAYC,GACPA,EAAIC,WAAW,OAAO,KAAKA,WAAW,OAAQ,KAAKA,WAAW,QAAS,KAAKA,WAAW,QAAS,I,sPCGvG,MAAMC,GAAQC,EAAAA,EAAAA,MACRC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,OAEdC,EAAAA,EAAAA,KAAe,KACXJ,EAAOK,UACPC,IACAC,QAAQC,IAAIN,EAAMO,OAAOC,QAAQ,IAGrC,MAAMC,EAAWA,KACbX,EAAOY,QAAQ,cAAcV,EAAMO,OAAOC,QAAQ,EAGhDG,GAAiBC,EAAAA,EAAAA,IAAI,IACrBC,GAAcD,EAAAA,EAAAA,IAAI,IAClBE,GAAiBF,EAAAA,EAAAA,IAAI,IACrBG,GAAmBH,EAAAA,EAAAA,IAAI,IACvBI,GAAoBJ,EAAAA,EAAAA,IAAI,IACxBK,GAAYL,EAAAA,EAAAA,KAAI,GAEhBR,EAAcc,UAChBtB,EAAMuB,OAAO,uBAAuB,SAC9BC,EAAAA,EAAMC,KAAK,eAAe,CAACC,IAAItB,EAAMO,OAAOC,UACjDe,MAAMC,IACHnB,QAAQC,IAAI,OAAOkB,EAAIC,KAAKC,aAC5Bf,EAAegB,MAAQH,EAAIC,KAAKC,YAAYE,UAC5Cf,EAAYc,OAAQlC,EAAAA,EAAAA,GAAU+B,EAAIC,KAAKC,YAAYG,OACnDf,EAAea,OAAQlC,EAAAA,EAAAA,GAAU+B,EAAIC,KAAKC,YAAYI,WACtDf,EAAiBY,MAAQH,EAAIC,KAAKC,YAAYK,UAC9Cf,EAAkBW,MAAQH,EAAIC,KAAKO,YAChCR,EAAIC,KAAKO,YAAYC,OAAS,IAC7BhB,EAAUU,OAAQ,EACtB,IAEHO,OAAOV,IACJnB,QAAQ8B,MAAM,KAAMX,EAAI,IAE5B5B,EAAMuB,OAAO,uBAAuB,EAAM,EAGxCiB,EAAqBA,IAIC,IAArBvB,EAAYc,OACXU,MAAM,UACNC,SAASC,eAAe,eAAeC,SAChC,GAGgB,IAAxB1B,EAAea,OACdU,MAAM,UACNC,SAASC,eAAe,kBAAkBC,SACnC,IAGX5C,EAAMuB,OAAO,uBAAuB,GACpCC,EAAAA,EAAMC,KAAK,qBAAsB,CAACoB,IAAIzC,EAAMO,OAAOC,QAAQkC,MAAM7B,EAAYc,MAAMgB,SAAS7B,EAAea,QAC1GJ,MAAMC,IAEH,GADAnB,QAAQC,IAAI,OAAOkB,EAAIC,MACA,QAApBD,EAAIC,KAAKmB,QAIR,OADAP,MAAMb,EAAIC,KAAKoB,SACR,EAHP/C,EAAOgD,IAAI,EAIf,IAEHZ,OAAOV,IACJa,MAAMb,GACNnB,QAAQ8B,MAAM,KAAMX,EAAI,IAE5B5B,EAAMuB,OAAO,uBAAuB,QACpCd,QAAQC,IAAIO,EAAYc,MAAMb,EAAea,QAG3CoB,EAAUA,KACZjD,EAAOgD,IAAI,EAAE,E,o8BCtFrB,MAAME,EAAc,EAEpB,O","sources":["webpack://vue_test/./src/utils/XSSutil.js","webpack://vue_test/./src/views/board/boardDetail.vue","webpack://vue_test/./src/views/board/boardDetail.vue?2fc3"],"sourcesContent":["\r\n/**\r\n * XSS 대비 서버에서 변환된 값이(ex:&lt;) 들어오면 클라이언트 화면에서 vue는 outerHTML방식으로 그대로보여줌\r\n * 그래서 다시 변환해서 보여주는 함수.\r\n * 그냥 공통 함수임\r\n * @param {*} str \r\n * @returns \r\n */\r\nconst changeXSS =(str) => {\r\n    return str.replaceAll('&lt;','<').replaceAll('&gt;', '>').replaceAll('&#40;', '(').replaceAll('&#41;', ')');\r\n}\r\nexport {changeXSS}\r\n","<script setup>\r\nimport BaseHeader from '@/components/common/header/baseHeader.vue'\r\nimport BaseFooter from '@/components/common/footer/baseFooter.vue'\r\n\r\nimport { ref, onBeforeMount} from 'vue';\r\nimport axios from \"axios\";\r\nimport { useStore } from \"vuex\";\r\n\r\nimport { useRouter,useRoute } from 'vue-router'\r\n\r\nimport { changeXSS } from '../../utils/XSSutil'\r\n\r\n    const store = useStore();\r\n    const router = useRouter();\r\n    const route = useRoute();\r\n\r\n    onBeforeMount( () => {\r\n        router.isReady();\r\n        getBoardOne();\r\n        console.log(route.params.pageKey);\r\n    });\r\n\r\n    const moveEdit = () => {\r\n        router.replace('/boardEdit/'+route.params.pageKey);\r\n    }\r\n\r\n    const detailCodeName = ref('');\r\n    const detailTitle = ref('');\r\n    const detailContents = ref('');\r\n    const detailUploadFile = ref('');\r\n    const detailCommentList = ref([]);\r\n    const commentYn = ref(false);\r\n\r\n    const getBoardOne = async () => {\r\n        store.commit(\"changeLoadingStatus\", true);\r\n        await axios.post(\"/boardOne.do\",{SEQ:route.params.pageKey})\r\n        .then((res) => {\r\n            console.log('조회결과',res.data.RESULT_DATA);\r\n            detailCodeName.value = res.data.RESULT_DATA.CODE_NAME;\r\n            detailTitle.value = changeXSS(res.data.RESULT_DATA.TITLE);\r\n            detailContents.value = changeXSS(res.data.RESULT_DATA.BODY_TEXT);\r\n            detailUploadFile.value = res.data.RESULT_DATA.FILE_NAME;\r\n            detailCommentList.value = res.data.RESULT_LIST;\r\n            if(res.data.RESULT_LIST.length > 0) {\r\n                commentYn.value = true;\r\n            }\r\n        })\r\n        .catch((res) => {\r\n            console.error(\"에러\", res);\r\n        });\r\n        store.commit(\"changeLoadingStatus\", false);\r\n    }\r\n\r\n    const addBoardCommentData =() =>{\r\n        // eslint-disable-next-line no-debugger\r\n        //위 주석을 써야 이 debugger가 먹힌다. 전체적으로 풀수도 있으나 나쁜 케이스가 발생 할 수 있다.    debugger;\r\n\r\n        if(detailTitle.value == '') {\r\n            alert('제목이 없어');\r\n            document.getElementById('detailTitle').focus();\r\n            return false;\r\n        }\r\n\r\n        if(detailContents.value == '') {\r\n            alert('내용이 없어');\r\n            document.getElementById('detailContents').focus();\r\n            return false;\r\n        }\r\n\r\n        store.commit(\"changeLoadingStatus\", true);\r\n        axios.post(\"/updateBoardOne.do\", {seq:route.params.pageKey,title:detailTitle.value,bodyText:detailContents.value} )\r\n        .then((res) => {\r\n            console.log('조회결과',res.data);\r\n            if(res.data.RESCODE == '0000') {\r\n                router.go(-1);\r\n            } else {\r\n                alert(res.data.RESMSG);\r\n                return false;    \r\n            }\r\n        })\r\n        .catch((res) => {\r\n            alert(res);\r\n            console.error(\"에러\", res);\r\n        });\r\n        store.commit(\"changeLoadingStatus\", false);\r\n        console.log(detailTitle.value,detailContents.value);\r\n    }\r\n\r\n    const moveList =() =>{\r\n        router.go(-1);\r\n    }\r\n\r\n</script>\r\n\r\n<template>\r\n  <BaseHeader title=\"게시판\"></BaseHeader>\r\n  <div>\r\n    <main>\r\n    <div>\r\n      글상세\r\n      <button type=\"button\" id=\"searchBtn\" @click=\"moveEdit\">수정</button>\r\n    </div>\r\n    <div>\r\n        <h2>분류:{{ detailCodeName }}</h2>\r\n        <h3>제목:{{ detailTitle }}</h3>\r\n    </div>\r\n    <div>\r\n        <p>내용:{{ detailContents }}</p>\r\n        <h4>첨부파일:{{detailUploadFile}}</h4>\r\n    </div>\r\n    <div v-if=\"commentYn\" style=\"padding: 10px;\">댓글</div>\r\n    <div v-if=\"commentYn\">\r\n        <div v-for=\"row in detailCommentList\" :key=\"row\">\r\n            <h4>제목:{{row.TITLE}}</h4>\r\n            <p>내용:{{ row.BODY_TEXT }}</p>\r\n        </div>\r\n    </div>\r\n    <div class=\"divRightAlign\">\r\n        <button type=\"button\" id=\"searchBtn\" @click=\"addBoardCommentData\">추가</button>\r\n        <button type=\"button\" id=\"searchBtn\" @click=\"moveList\">목록</button>\r\n    </div>\r\n  </main>\r\n</div>\r\n<BaseFooter></BaseFooter>\r\n</template>\r\n\r\n","import script from \"./boardDetail.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./boardDetail.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["changeXSS","str","replaceAll","store","useStore","router","useRouter","route","useRoute","onBeforeMount","isReady","getBoardOne","console","log","params","pageKey","moveEdit","replace","detailCodeName","ref","detailTitle","detailContents","detailUploadFile","detailCommentList","commentYn","async","commit","axios","post","SEQ","then","res","data","RESULT_DATA","value","CODE_NAME","TITLE","BODY_TEXT","FILE_NAME","RESULT_LIST","length","catch","error","addBoardCommentData","alert","document","getElementById","focus","seq","title","bodyText","RESCODE","RESMSG","go","moveList","__exports__"],"sourceRoot":""}